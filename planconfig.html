<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bible Plan Configurator</title>
  <!-- You MUST include jQuery before Fomantic -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
  <script src="../semantic/dist/semantic.min.js"></script>
<link rel="stylesheet" type="text/css" href="font/stylesheet.css">
<link rel="stylesheet" type="text/css" href="css/stylesheet.css">
</head>

<body style="background-image: url(img/yoshiost-bg.png) ; background-repeat: ; background-size: ">
  <div class="header">
    <div class="ui fixed top borderless menu">
      <div class="ui container">
        <div class="item">
          <a href="index.html">
            <img class="grower" id="top-logo" src="https://cdn.discordapp.com/attachments/1044438246282776648/1044438284434145290/Up_Close_Head.png">
          </a>
        </div>
        <div class="right borderless menu">
          <div class="ui simple dropdown item">
            Music
            <i class="dropdown icon"></i>
            <div class="menu">
              <a href="videogames.html"><div class="hl item">Video Games</div></a>
              <a href="yoshiost.html"><div class="hl item">YoshiOST</div></a>
              <a href="osbooter.html"><div class="hl item">OSBooter</div></a>
              <a href="music-media.html"><div class="hl item">Media</div></a>
              <a href="license.html"><div class="hl item">Licensing</div></a>
              
            </div>
          </div>
          <div class="ui simple dropdown item">
            Games
            <i class="dropdown icon"></i>
            <div class="menu">
              <a href="https://www.speedrun.com/user/YoshiOST"><div class="hl item">Speedruns</div></a>
              <a href="https://sites.google.com/view/fishingplus/fishingplus"><div class="hl item">Fishing Plus</div></a>
              
              
            </div>
          </div>
          <div class="ui simple dropdown item">
            Code
            <i class="dropdown icon"></i>
            <div class="menu">
              <a href="planconfig.html"><div class="hl item">Bible Plan Config</div></a>
              <a href="https://chrome.google.com/webstore/detail/bible-shortcuts/fdfkokekebedfliplbofjnejpjbohlkk"><div class="hl item">Bible Shortcuts</div></a>
              <a href="https://github.com/OSBooter/Tracktion-WF-Macros"><div class="hl item">Waveform Macros</div></a>
              <a href="https://sites.google.com/view/mbcmaps/mbc-maps"><div class="hl item">MBC OpenLayers</div></a>
              <a href="secommands.html"><div class="hl item">SE Commands</div></a>
            </div>
          </div>
        </div>
        <div class="ui borderless icon menu">
          <a class="item" href="https://twitter.com/getYoshiOST" aria-label="twitter link">
            <i class="twitter icon"></i>
          </a>
          <a class="item" href="https://www.twitch.tv/yoshiost" aria-label="twitch link">
            <i class="twitch icon"></i>
          </a>
          <a class="item" href="https://www.youtube.com/@yoshiost"  aria-label="youtube link">
            <i class="youtube red icon"></i>
          </a>
          <a class="item" href="https://www.instagram.com/yoshiost/" aria-label="instagram link">
            <i class="instagram icon"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div id="content" class="ui container">
    <h1 class="ui center aligned header">Bible Plan Configurator</h1>
<div class="ui container">
  <div class="ui segment">
    <div class="ui fluid left icon input">
      <input id="input-bot" type="text" placeholder="Discord Bot Name">
      <i class="robot icon"></i>
    </div>
    <div class="ui fluid left icon input">
      <input id="input-image" type="text" placeholder="Image Link">
      <i class="image icon"></i>
    </div>
    <div class="ui fluid left icon input">
      <input id="input-webhook" type="text" placeholder="Webhook URL">
      <i class="chain icon"></i>
    </div>
    <div class="ui fluid left icon input">
      <input id="input-csv" type="text" placeholder=".csv file">
      <i class="scroll icon"></i>
    </div>
    <div class="ui calendar" id="standard_calendar">
      <div class="ui input left icon">
        <i class="calendar icon"></i>
        <input id="input-calendar" type="text" placeholder="Starting Date">
      </div>
    </div>
    <button class="ui button" onclick = "downloadFile()">
      Generate
    </button>
    <script>
    const downloadFile = () => {
      const link = document.createElement("a");
      const botname = document.querySelector("#input-bot").value || 'Plan Bot';
      const image = document.querySelector("#input-image").value || 'https://cdn.pixabay.com/photo/2022/02/20/09/43/animal-7024108_960_720.png';
      const webhook = document.querySelector("#input-webhook").value || 'https://discord.com/api/webhooks/a/b';
      const mywebhook = webhook.split("/");
      const webhookId = mywebhook[5];
      const webhookToken = mywebhook[6];
      const csvfile = document.querySelector("#input-csv").value || 'plan.csv';
      var calendar = new Date(document.querySelector("#input-calendar").value);
      if (isNaN(calendar))
      {
        calendar = new Date();
      }
      const content = '{ "hooks" : ['
      + '{'
      + '"botname": "' + botname + '",'
      + '"image": "' + image + '",'
      + '"webhookId": "'+ webhookId + '",'
      + '"webhookToken": "'+ webhookToken + '",'
      + '"csvfile": "'+ csvfile + '",'
      + '"startdate": "'+ calendar.getTime()
      + '"}]'
      + '}';
      const file = new Blob([content],{type: 'application/json'}
      );
      console.log(calendar.getTime());
      link.href = URL.createObjectURL(file);
      link.download = "config.json";
      link.click();
      URL.revokeObjectURL(link.href);
    };
    </script>
  </div>

      
  </div>
  <div class="footer">
  <script src="js/me.js"></script>
  </div>
</body>
</html>
